"use strict";(self.webpackChunkflight_booking=self.webpackChunkflight_booking||[]).push([[308],{7308:(y,d,s)=>{s.r(d),s.d(d,{AdminModule:()=>U});var a=s(9808),i=s(2382);class Z{constructor(r){this.token=r}}var t=s(1223),m=s(520),p=s(2290);let g=(()=>{class e{constructor(n,o){this.httpClient=n,this.toastr=o,this.url="http://localhost:8989/inventory/"}authenticateUser(n){return this.httpClient.post(this.url+"authenticate",n)}getAllFlights(){return this.httpClient.get(this.url+"api/inventory/allflights")}showErrorNotification(n,o){this.toastr.error(n,o)}showNotification(n,o){this.toastr.success(n,o)}addFlight(n){return this.httpClient.post(this.url+"api/inventory/flight",n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(m.eN),t.LFG(p._W))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=s(8118);function c(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"Username is not valid"),t.qZA())}function h(e,r){if(1&e&&(t.TgZ(0,"span",10),t.YNc(1,c,2,0,"span",11),t._UZ(2,"br"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.loginForm.controls.username.errors.required)}}function f(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"Password is not valid"),t.qZA())}function A(e,r){if(1&e&&(t.TgZ(0,"span",10),t.YNc(1,f,2,0,"span",11),t._UZ(2,"br"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.loginForm.controls.password.errors.required)}}let T=(()=>{class e{constructor(n,o){this.inventoryService=n,this.router=o,this.token=new Z(""),this.loginForm=new i.cw({username:new i.NI("",[i.kI.required,i.kI.minLength(3)]),password:new i.NI("",[i.kI.required])})}ngOnInit(){}authenticateUser(){this.inventoryService.authenticateUser(this.loginForm.value).subscribe(n=>{this.token=n,console.log(this.token.token)}),null!=this.token.token?(localStorage.setItem("token",this.token.token),this.router.navigateByUrl("/admin/flightlisting")):this.inventoryService.showErrorNotification("Username or password is not valid","Invalid credentials")}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:26,vars:3,consts:[[1,"login_page"],[1,"form-outline","d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],[2,"height","75px"],[2,"font-size","medium","font-family","sans-serif","border-right","20px solid white"],["type","text","id","form12","placeholder","Username","formControlName","username",1,"form-control"],["class","error","style","color: red;",4,"ngIf"],[2,"height","65px"],["type","password","id","form12","placeholder","Password","formControlName","password",1,"form-control"],["type","submit","value","Login",1,"btn","btn-info"],[1,"error",2,"color","red"],[4,"ngIf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"form",2),t.NdJ("ngSubmit",function(){return o.authenticateUser()}),t.TgZ(3,"table"),t.TgZ(4,"tr",3),t.TgZ(5,"td",4),t._uU(6," Username "),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"input",5),t.qZA(),t.qZA(),t.TgZ(9,"tr"),t._UZ(10,"td"),t.TgZ(11,"td"),t.YNc(12,h,3,1,"span",6),t.qZA(),t.qZA(),t.TgZ(13,"tr",7),t.TgZ(14,"td",4),t._uU(15," Password "),t.qZA(),t.TgZ(16,"td"),t._UZ(17,"input",8),t.qZA(),t.qZA(),t.TgZ(18,"tr"),t._UZ(19,"td"),t.TgZ(20,"td"),t.YNc(21,A,3,1,"span",6),t.qZA(),t.qZA(),t.TgZ(22,"tr",7),t._UZ(23,"td"),t.TgZ(24,"td"),t._UZ(25,"input",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Q6J("formGroup",o.loginForm),t.xp6(10),t.Q6J("ngIf",o.loginForm.controls.username.dirty&&null!=o.loginForm.controls.username.errors),t.xp6(9),t.Q6J("ngIf",o.loginForm.controls.password.dirty&&null!=o.loginForm.controls.password.errors))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,a.O5],styles:[".login_page[_ngcontent-%COMP%]{margin-top:25px;text-align:center;top:50%;left:35%}"]}),e})(),q=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin"]],decls:1,vars:0,template:function(n,o){1&n&&t._UZ(0,"router-outlet")},directives:[l.lC],styles:[""]}),e})();function _(e,r){if(1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.qZA()),2&e){const n=r.$implicit,o=r.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(n.flightNumber),t.xp6(2),t.Oqu(n.fromPlace),t.xp6(2),t.Oqu(n.toPlace),t.xp6(2),t.Oqu(n.startDateTime),t.xp6(2),t.Oqu(n.endDateTime),t.xp6(2),t.Oqu(n.ticketCost)}}const v=[{path:"login",component:T},{path:"flightlisting",component:(()=>{class e{constructor(n,o){this.inventoryService=n,this.router=o,this.flights=[],this.className="hideit"}ngOnInit(){this.getAllFlights()}getAllFlights(){this.inventoryService.getAllFlights().subscribe(n=>{this.flights=n,this.className="viewit"})}addFlights(){this.router.navigateByUrl("/admin/addflight")}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-flight-listing"]],decls:23,vars:2,consts:[[2,"float","right","margin","20px"],[1,"btn","btn-primary","active",3,"click"],[1,"icon-white","icon-plus"],[2,"margin","20px",3,"ngClass"],[1,"table","table-hover"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"button",1),t.NdJ("click",function(){return o.addFlights()}),t._UZ(2,"i",2),t._uU(3," Add"),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"table",4),t.TgZ(6,"tr"),t.TgZ(7,"th"),t._uU(8,"S.No"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"FlightNumber"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"From"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"To"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Departure "),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Arrival "),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Ticket cost"),t.qZA(),t._UZ(21,"th"),t.qZA(),t.YNc(22,_,15,7,"tr",5),t.qZA(),t.qZA()),2&n&&(t.xp6(4),t.Q6J("ngClass",o.className),t.xp6(18),t.Q6J("ngForOf",o.flights))},directives:[a.mk,a.sg],styles:["td[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}"]}),e})()},{path:"airlinelisting",component:(()=>{class e{constructor(){this.airlines=[]}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-airlinelisting"]],decls:13,vars:0,consts:[[1,"navbar","navbar-default","bg-info"],[1,"container-fluid"],[1,"nav","navbar-nav"],["routerLink","flightlisting"],[1,"active"],["routerLink","airlineListing"],[2,"float","right"],[1,"btn","btn-primary","active"],[1,"icon-white","icon-plus"]],template:function(n,o){1&n&&(t.TgZ(0,"nav",0),t.TgZ(1,"div",1),t.TgZ(2,"ul",2),t.TgZ(3,"li"),t.TgZ(4,"a",3),t._uU(5,"Flights"),t.qZA(),t.qZA(),t.TgZ(6,"li",4),t.TgZ(7,"a",5),t._uU(8,"Airline"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"button",7),t._UZ(11,"i",8),t._uU(12," Add"),t.qZA(),t.qZA())},directives:[l.yS],styles:[""]}),e})()},{path:"addflight",component:(()=>{class e{constructor(n,o){this.inventoryService=n,this.router=o,this.flightForm=new i.cw({flightNumber:new i.NI("",[i.kI.required]),fromPlace:new i.NI("",[i.kI.required]),startDateTime:new i.NI("",[i.kI.required]),endDateTime:new i.NI("",[i.kI.required]),scheduleDays:new i.NI("",[i.kI.required]),instrument:new i.NI("",[i.kI.required]),businessSeats:new i.NI("",[i.kI.required]),nonBusinessSeats:new i.NI("",[i.kI.required]),ticketCost:new i.NI("",[i.kI.required]),airlineId:new i.NI("",[i.kI.required])})}ngOnInit(){}addFlight(){this.inventoryService.addFlight(this.flightForm.value).subscribe(n=>{console.log(JSON.stringify(n)),this.inventoryService.showNotification("Flight added successfully","Flight added"),this.router.navigateByUrl("/admin/flightlisting")})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-addflight"]],decls:60,vars:1,consts:[[1,"booking_form","form-outline","d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],["type","text","formControlName","flightNumber"],["type","text","formControlName","fromPlace"],["type","text","formControlName","toPlace"],["type","text","formControlName","startDateTime"],["type","text","formControlName","endDateTime"],["type","text","formControlName","scheduledDays"],["type","text","formControlName","instrument"],["type","text","formControlName","businessSeats"],["type","text","formControlName","nonBusinessSeats"],["type","text","formControlName","ticketCost"],["type","text","formControlName","airlineId"],[3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return o.addFlight()}),t.TgZ(2,"table"),t.TgZ(3,"tr"),t.TgZ(4,"td"),t._uU(5,"Flight Number :"),t.qZA(),t.TgZ(6,"td"),t._UZ(7,"input",2),t.qZA(),t.qZA(),t.TgZ(8,"tr"),t.TgZ(9,"td"),t._uU(10,"From Place* :"),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"input",3),t.qZA(),t.qZA(),t.TgZ(13,"tr"),t.TgZ(14,"td"),t._uU(15,"To Place* :"),t.qZA(),t.TgZ(16,"td"),t._UZ(17,"input",4),t.qZA(),t.qZA(),t.TgZ(18,"tr"),t.TgZ(19,"td"),t._uU(20,"start Date Time* :"),t.qZA(),t.TgZ(21,"td"),t._UZ(22,"input",5),t.qZA(),t.qZA(),t.TgZ(23,"tr"),t.TgZ(24,"td"),t._uU(25,"end Date Time* :"),t.qZA(),t.TgZ(26,"td"),t._UZ(27,"input",6),t.qZA(),t.qZA(),t.TgZ(28,"tr"),t.TgZ(29,"td"),t._uU(30,"Scheduled Days* :"),t.qZA(),t.TgZ(31,"td"),t._UZ(32,"input",7),t.qZA(),t.qZA(),t.TgZ(33,"tr"),t.TgZ(34,"td"),t._uU(35,"Instrument* :"),t.qZA(),t.TgZ(36,"td"),t._UZ(37,"input",8),t.qZA(),t.qZA(),t.TgZ(38,"tr"),t.TgZ(39,"td"),t._uU(40,"Business seats* :"),t.qZA(),t.TgZ(41,"td"),t._UZ(42,"input",9),t.qZA(),t.qZA(),t.TgZ(43,"tr"),t.TgZ(44,"td"),t._uU(45,"non Business seats* :"),t.qZA(),t.TgZ(46,"td"),t._UZ(47,"input",10),t.qZA(),t.qZA(),t.TgZ(48,"tr"),t.TgZ(49,"td"),t._uU(50,"Ticket cost* :"),t.qZA(),t.TgZ(51,"td"),t._UZ(52,"input",11),t.qZA(),t.qZA(),t.TgZ(53,"tr"),t.TgZ(54,"td"),t._uU(55,"Airline Id* : "),t.qZA(),t.TgZ(56,"td"),t._UZ(57,"input",12),t.qZA(),t.qZA(),t.TgZ(58,"button",13),t.NdJ("click",function(){return o.addFlight()}),t._uU(59," Book>"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("formGroup",o.flightForm))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u],styles:["td[_ngcontent-%COMP%]{font-size:medium;font-family:sans-serif;border-right:20px solid white;padding-top:15px;padding-bottom:15px}"]}),e})()},{path:"**",redirectTo:"login"}];let U=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e,bootstrap:[q]}),e.\u0275inj=t.cJS({imports:[[a.ez,i.u5,i.UX,l.Bz.forChild(v)]]}),e})()}}]);