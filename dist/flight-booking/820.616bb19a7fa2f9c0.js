"use strict";(self.webpackChunkflight_booking=self.webpackChunkflight_booking||[]).push([[820],{3820:(k,c,a)=>{a.r(c),a.d(c,{AdminModule:()=>C});var g=a(9808),e=a(2382);class Z{constructor(o){this.token=o}}var t=a(1223),u=a(520),p=a(2290);let d=(()=>{class i{constructor(n,r){this.httpClient=n,this.toastr=r,this.url="http://ec2-13-232-122-12.ap-south-1.compute.amazonaws.com:8989/inventory/"}authenticateUser(n){return this.httpClient.post(this.url+"authenticate",n)}getAllFlights(){return this.httpClient.get(this.url+"api/inventory/allflights")}showErrorNotification(n,r){this.toastr.error(n,r)}showNotification(n,r){this.toastr.success(n,r)}addFlight(n){return this.httpClient.post(this.url+"api/inventory/flight",n)}addAirline(n){return this.httpClient.post(this.url+"api/inventory/airline",n)}getAllAirlines(){return this.httpClient.get(this.url+"api/inventory/airline")}blockAirline(n){let r=new u.LE;return r=r.append("id",n),this.httpClient.put(this.url+"api/inventory/airline/"+n,{})}}return i.\u0275fac=function(n){return new(n||i)(t.LFG(u.eN),t.LFG(p._W))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var l=a(8118);function m(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"Username is not valid"),t.qZA())}function A(i,o){if(1&i&&(t.TgZ(0,"span",10),t.YNc(1,m,2,0,"span",11),t._UZ(2,"br"),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.loginForm.controls.username.errors.required)}}function h(i,o){1&i&&(t.TgZ(0,"span"),t._uU(1,"Password is not valid"),t.qZA())}function f(i,o){if(1&i&&(t.TgZ(0,"span",10),t.YNc(1,h,2,0,"span",11),t._UZ(2,"br"),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.loginForm.controls.password.errors.required)}}let T=(()=>{class i{constructor(n,r){this.inventoryService=n,this.router=r,this.token=new Z(""),this.loginForm=new e.cw({username:new e.NI("",[e.kI.required,e.kI.minLength(3)]),password:new e.NI("",[e.kI.required])})}ngOnInit(){}authenticateUser(){this.inventoryService.authenticateUser(this.loginForm.value).subscribe(n=>{this.token=n,console.log(this.token.token)}),null!=this.token.token?(localStorage.setItem("token",this.token.token),this.router.navigateByUrl("/admin/flightlisting")):this.inventoryService.showErrorNotification("Username or password is not valid","Invalid credentials")}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(d),t.Y36(l.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-login"]],decls:26,vars:3,consts:[[1,"login_page"],[1,"form-outline","d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],[2,"height","75px"],[2,"font-size","medium","font-family","sans-serif","border-right","20px solid white"],["type","text","id","form12","placeholder","Username","formControlName","username",1,"form-control"],["class","error","style","color: red;",4,"ngIf"],[2,"height","65px"],["type","password","id","form12","placeholder","Password","formControlName","password",1,"form-control"],["type","submit","value","Login",1,"btn","btn-info"],[1,"error",2,"color","red"],[4,"ngIf"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"form",2),t.NdJ("ngSubmit",function(){return r.authenticateUser()}),t.TgZ(3,"table"),t.TgZ(4,"tr",3),t.TgZ(5,"td",4),t._uU(6," Username "),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"input",5),t.qZA(),t.qZA(),t.TgZ(9,"tr"),t._UZ(10,"td"),t.TgZ(11,"td"),t.YNc(12,A,3,1,"span",6),t.qZA(),t.qZA(),t.TgZ(13,"tr",7),t.TgZ(14,"td",4),t._uU(15," Password "),t.qZA(),t.TgZ(16,"td"),t._UZ(17,"input",8),t.qZA(),t.qZA(),t.TgZ(18,"tr"),t._UZ(19,"td"),t.TgZ(20,"td"),t.YNc(21,f,3,1,"span",6),t.qZA(),t.qZA(),t.TgZ(22,"tr",7),t._UZ(23,"td"),t.TgZ(24,"td"),t._UZ(25,"input",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Q6J("formGroup",r.loginForm),t.xp6(10),t.Q6J("ngIf",r.loginForm.controls.username.dirty&&null!=r.loginForm.controls.username.errors),t.xp6(9),t.Q6J("ngIf",r.loginForm.controls.password.dirty&&null!=r.loginForm.controls.password.errors))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u,g.O5],styles:[".login_page[_ngcontent-%COMP%]{margin-top:25px;text-align:center;top:50%;left:35%}"]}),i})(),_=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-admin"]],decls:1,vars:0,template:function(n,r){1&n&&t._UZ(0,"router-outlet")},directives:[l.lC],styles:[""]}),i})();function q(i,o){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.qZA()),2&i){const n=o.$implicit,r=o.index;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(n.flightNumber),t.xp6(2),t.Oqu(n.fromPlace),t.xp6(2),t.Oqu(n.toPlace),t.xp6(2),t.Oqu(n.startDateTime),t.xp6(2),t.Oqu(n.endDateTime),t.xp6(2),t.Oqu(n.ticketCost)}}function y(i,o){if(1&i){const n=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t.TgZ(12,"button",13),t.NdJ("click",function(){const s=t.CHM(n),b=s.$implicit,N=s.index;return t.oxw().blockAirline(b.id,N)}),t._uU(13,"Cancel"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const n=o.$implicit,r=o.index;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(n.id),t.xp6(2),t.Oqu(n.airlineName),t.xp6(2),t.Oqu(n.airlineContact),t.xp6(2),t.Oqu(n.airlineAddress)}}const U=[{path:"login",component:T},{path:"flightlisting",component:(()=>{class i{constructor(n,r){this.inventoryService=n,this.router=r,this.flights=[],this.className="hideit"}ngOnInit(){this.getAllFlights()}getAllFlights(){this.inventoryService.getAllFlights().subscribe(n=>{this.flights=n,this.className="viewit"})}addFlights(){this.router.navigateByUrl("/admin/addflight")}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(d),t.Y36(l.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-flight-listing"]],decls:32,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto","topnav"],[1,"nav-item","active"],["routerLink","/admin/flightlisting",1,"nav-link"],[1,"nav-item"],["routerLink","/admin/airlinelisting",1,"nav-link"],[2,"float","right","margin","20px"],[1,"btn","btn-primary","active",3,"click"],[1,"icon-white","icon-plus"],[2,"margin","20px",3,"ngClass"],[1,"table","table-hover"],[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(t.TgZ(0,"nav",0),t.TgZ(1,"div",1),t.TgZ(2,"ul",2),t.TgZ(3,"li",3),t.TgZ(4,"a",4),t._uU(5," Flights "),t.qZA(),t.qZA(),t.TgZ(6,"li",5),t.TgZ(7,"a",6),t._uU(8," Airline "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",7),t.TgZ(10,"button",8),t.NdJ("click",function(){return r.addFlights()}),t._UZ(11,"i",9),t._uU(12," Add flight "),t.qZA(),t.qZA(),t.TgZ(13,"div",10),t.TgZ(14,"table",11),t.TgZ(15,"tr"),t.TgZ(16,"th"),t._uU(17,"S.No"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"FlightNumber"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"From"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"To"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Departure "),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Arrival "),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Ticket cost"),t.qZA(),t._UZ(30,"th"),t.qZA(),t.YNc(31,q,15,7,"tr",12),t.qZA(),t.qZA()),2&n&&(t.xp6(13),t.Q6J("ngClass",r.className),t.xp6(18),t.Q6J("ngForOf",r.flights))},directives:[l.yS,g.mk,g.sg],styles:["td[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}.viewit[_ngcontent-%COMP%]{display:block}.hideit[_ngcontent-%COMP%]{display:none}"]}),i})()},{path:"airlinelisting",component:(()=>{class i{constructor(n,r){this.inventoryService=n,this.router=r,this.airlines=[],this.className="hideit"}ngOnInit(){this.getAllAirlines()}getAllAirlines(){this.inventoryService.getAllAirlines().subscribe(n=>{this.airlines=n,this.className="viewit"})}addAirline(){this.router.navigateByUrl("/admin/addairline")}blockAirline(n,r){this.inventoryService.blockAirline(n).subscribe(s=>{this.inventoryService.showNotification("Airline blocked successfully","Airline Blocked"),this.airlines.splice(r,1)})}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(d),t.Y36(l.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-airlinelisting"]],decls:28,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto","topnav"],[1,"nav-item","active"],["routerLink","/admin/flightlisting",1,"nav-link"],[1,"nav-item"],["routerLink","/admin/airlinelisting",1,"nav-link"],[2,"float","right","margin","20px"],[1,"btn","btn-primary","active",3,"click"],[1,"icon-white","icon-plus"],[2,"margin","20px",3,"ngClass"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"nav",0),t.TgZ(1,"div",1),t.TgZ(2,"ul",2),t.TgZ(3,"li",3),t.TgZ(4,"a",4),t._uU(5," Flights "),t.qZA(),t.qZA(),t.TgZ(6,"li",5),t.TgZ(7,"a",6),t._uU(8," Airline "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",7),t.TgZ(10,"button",8),t.NdJ("click",function(){return r.addAirline()}),t._UZ(11,"i",9),t._uU(12," Add airline "),t.qZA(),t.qZA(),t.TgZ(13,"div",10),t.TgZ(14,"table",11),t.TgZ(15,"tr"),t.TgZ(16,"th"),t._uU(17,"S.No"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Airline Id"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Airline name"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Airline contact"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Airline address "),t.qZA(),t._UZ(26,"th"),t.qZA(),t.YNc(27,y,14,5,"tr",12),t.qZA(),t.qZA()),2&n&&(t.xp6(13),t.Q6J("ngClass",r.className),t.xp6(14),t.Q6J("ngForOf",r.airlines))},directives:[l.yS,g.mk,g.sg],styles:["td[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}.viewit[_ngcontent-%COMP%]{display:block}.hideit[_ngcontent-%COMP%]{display:none}"]}),i})()},{path:"addflight",component:(()=>{class i{constructor(n,r){this.inventoryService=n,this.router=r,this.flightForm=new e.cw({flightNumber:new e.NI("",[e.kI.required]),fromPlace:new e.NI("",[e.kI.required]),startDateTime:new e.NI("",[e.kI.required]),endDateTime:new e.NI("",[e.kI.required]),scheduleDays:new e.NI("",[e.kI.required]),instrument:new e.NI("",[e.kI.required]),businessSeats:new e.NI("",[e.kI.required]),nonBusinessSeats:new e.NI("",[e.kI.required]),ticketCost:new e.NI("",[e.kI.required]),airlineId:new e.NI("",[e.kI.required])})}ngOnInit(){}addFlight(){this.inventoryService.addFlight(this.flightForm.value).subscribe(n=>{console.log(JSON.stringify(n)),this.inventoryService.showNotification("Flight added successfully","Flight added"),this.router.navigateByUrl("/admin/flightlisting")})}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(d),t.Y36(l.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addflight"]],decls:63,vars:1,consts:[[1,"booking_form","form-outline","d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],["type","text","formControlName","flightNumber"],["type","text","formControlName","fromPlace"],["type","text","formControlName","toPlace"],["type","text","formControlName","startDateTime"],["type","text","formControlName","endDateTime"],["type","text","formControlName","scheduledDays"],["type","text","formControlName","instrument"],["type","text","formControlName","businessSeats"],["type","text","formControlName","nonBusinessSeats"],["type","text","formControlName","ticketCost"],["type","text","formControlName","airlineId"],["btn","","btn-primary","","active","",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"form",1),t.NdJ("ngSubmit",function(){return r.addFlight()}),t.TgZ(2,"table"),t.TgZ(3,"tr"),t.TgZ(4,"td"),t._uU(5,"Flight Number :"),t.qZA(),t.TgZ(6,"td"),t._UZ(7,"input",2),t.qZA(),t.qZA(),t.TgZ(8,"tr"),t.TgZ(9,"td"),t._uU(10,"From Place* :"),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"input",3),t.qZA(),t.qZA(),t.TgZ(13,"tr"),t.TgZ(14,"td"),t._uU(15,"To Place* :"),t.qZA(),t.TgZ(16,"td"),t._UZ(17,"input",4),t.qZA(),t.qZA(),t.TgZ(18,"tr"),t.TgZ(19,"td"),t._uU(20,"start Date Time* :"),t.qZA(),t.TgZ(21,"td"),t._UZ(22,"input",5),t.qZA(),t.qZA(),t.TgZ(23,"tr"),t.TgZ(24,"td"),t._uU(25,"end Date Time* :"),t.qZA(),t.TgZ(26,"td"),t._UZ(27,"input",6),t.qZA(),t.qZA(),t.TgZ(28,"tr"),t.TgZ(29,"td"),t._uU(30,"Scheduled Days* :"),t.qZA(),t.TgZ(31,"td"),t._UZ(32,"input",7),t.qZA(),t.qZA(),t.TgZ(33,"tr"),t.TgZ(34,"td"),t._uU(35,"Instrument* :"),t.qZA(),t.TgZ(36,"td"),t._UZ(37,"input",8),t.qZA(),t.qZA(),t.TgZ(38,"tr"),t.TgZ(39,"td"),t._uU(40,"Business seats* :"),t.qZA(),t.TgZ(41,"td"),t._UZ(42,"input",9),t.qZA(),t.qZA(),t.TgZ(43,"tr"),t.TgZ(44,"td"),t._uU(45,"non Business seats* :"),t.qZA(),t.TgZ(46,"td"),t._UZ(47,"input",10),t.qZA(),t.qZA(),t.TgZ(48,"tr"),t.TgZ(49,"td"),t._uU(50,"Ticket cost* :"),t.qZA(),t.TgZ(51,"td"),t._UZ(52,"input",11),t.qZA(),t.qZA(),t.TgZ(53,"tr"),t.TgZ(54,"td"),t._uU(55,"Airline Id* : "),t.qZA(),t.TgZ(56,"td"),t._UZ(57,"input",12),t.qZA(),t.qZA(),t.TgZ(58,"tr"),t._UZ(59,"td"),t.TgZ(60,"td"),t.TgZ(61,"button",13),t.NdJ("click",function(){return r.addFlight()}),t._uU(62," Add flight"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("formGroup",r.flightForm))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u],styles:["td[_ngcontent-%COMP%]{font-size:medium;font-family:sans-serif;border-right:20px solid white;padding-top:15px;padding-bottom:15px}"]}),i})()},{path:"addairline",component:(()=>{class i{constructor(n,r){this.inventoryService=n,this.router=r,this.airlineForm=new e.cw({airlineName:new e.NI("",[e.kI.required]),airlineContact:new e.NI("",[e.kI.required]),airlineAddress:new e.NI("",[e.kI.required])})}ngOnInit(){}addAirline(){this.inventoryService.addAirline(this.airlineForm.value).subscribe(n=>{console.log(JSON.stringify(n)),this.inventoryService.showNotification("Airline added successfully","Airline added"),this.router.navigateByUrl("/admin/airlinelisting")})}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(d),t.Y36(l.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addairline"]],decls:23,vars:1,consts:[[1,"booking_form","form-outline","d-flex","justify-content-center"],[3,"formGroup"],["type","text","formControlName","airlineName"],["type","text","formControlName","airlineContact"],["type","text","formControlName","airlineAddress"],["btn","","btn-primary","","active","",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"form",1),t.TgZ(2,"table"),t.TgZ(3,"tr"),t.TgZ(4,"td"),t._uU(5,"Airline Number :"),t.qZA(),t.TgZ(6,"td"),t._UZ(7,"input",2),t.qZA(),t.qZA(),t.TgZ(8,"tr"),t.TgZ(9,"td"),t._uU(10,"Airline contact :"),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"input",3),t.qZA(),t.qZA(),t.TgZ(13,"tr"),t.TgZ(14,"td"),t._uU(15,"Airline address :"),t.qZA(),t.TgZ(16,"td"),t._UZ(17,"input",4),t.qZA(),t.qZA(),t.TgZ(18,"tr"),t._UZ(19,"td"),t.TgZ(20,"td"),t.TgZ(21,"button",5),t.NdJ("click",function(){return r.addAirline()}),t._uU(22," Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("formGroup",r.airlineForm))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u],styles:["td[_ngcontent-%COMP%]{font-size:medium;font-family:sans-serif;border-right:20px solid white;padding-top:15px;padding-bottom:15px}"]}),i})()},{path:"**",redirectTo:"login"}];let C=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i,bootstrap:[_]}),i.\u0275inj=t.cJS({imports:[[g.ez,e.u5,e.UX,l.Bz.forChild(U)]]}),i})()}}]);